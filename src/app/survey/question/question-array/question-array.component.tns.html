<StackLayout [formGroup]="formGroup">
  <Label class="question-label" [text]="label" textWrap="true"></Label>
  <!--
  <StackLayout class="checkboxes-container" *ngFor="let control of checkBoxesControl.controls; let i=index;">
    <CheckBox
      [text]="options[i].label"
      [checked]="control.value"
      (checkedChange)="toggleCheckbox($event.value, control, i)"
    ></CheckBox>
  </StackLayout>
  -->
  <StackLayout class="sub-question-container" *ngFor="let subQuestion of checkBoxesControl.controls; let j=index">
    <Label class="sub-question" [text]="optionsAndSubQuestions.subQuestions[j].label"></Label>
    <StackLayout class="checkboxes-container" *ngFor="let control of getControlsFromSubQuestion(subQuestion); let i=index">
      <CheckBox
        *ngIf="singleChoice"
        [text]="optionsAndSubQuestions.options[i].label"
        [checked]="control.value"
        (checkedChange)="toggleCheckbox($event.value, control, subQuestion)"
        boxType="circle"
      ></CheckBox>
      <CheckBox
        *ngIf="!singleChoice"
        [text]="optionsAndSubQuestions.options[i].label"
        [checked]="control.value"
        (checkedChange)="toggleCheckbox($event.value, control, subQuestion)"
        boxType="square"
      ></CheckBox>
      <!-- isUserInteractionEnabled="false" -->
    </StackLayout>
  </StackLayout>
  <FlexboxLayout class="button-container">
    <Button text="prev" (tap)="onPrevQuestion()"></Button>
    <Button text="next" (tap)="onNextQuestion()"></Button>
  </FlexboxLayout>
</StackLayout>
